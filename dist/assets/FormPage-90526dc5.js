import{o as h,c as v,a as t,t as C,u as w,b as N,r as k,w as S,d as p,e as f,n as b,f as U,F as $,g as D,h as B}from"./index-4be0545e.js";const F=["for"],M={class:"text-sm font-light mb-2 block text-gray-500"},A=["type","id","name","value"],g={__name:"vField",props:{modelValue:{type:[String,Number]},type:{type:String,default:"text"},forName:{type:String,required:!0},placeholder:{type:String,required:!0}},setup(o){return(l,u)=>(h(),v("label",{class:"w-full px-4 py-2 border-[1px] border-gray-300 rounded-md",for:o.forName},[t("span",M,C(o.placeholder),1),t("input",{onInput:u[0]||(u[0]=r=>l.$emit("update:modelValue",r.target.value)),class:"h-[16px] block w-full outline-none text-base",type:o.type,id:o.forName,name:o.forName,value:o.modelValue},null,40,A)],8,F))}},q={class:"md:w-2/3 py-8"},L=t("h3",{class:"text-base font-medium py-5"},"Персональный данные",-1),j={"action.submit":"",class:"flex flex-col gap-4"},z={class:"mt-10 flex justify-between items-center mb-3"},E=t("h3",{class:"text-base font-medium py-5"},"Дети (макс. 5)",-1),I=t("span",{class:"font-bold text-lg md:text-md"}," ＋",-1),P=["onClick"],R={class:"py-10"},G={__name:"FormPage",setup(o){const l=w(),u=N(),r=k(!1);S(()=>l.state.userChildren.length,e=>{e>=5?r.value=!0:r.value=!1});const d=p({get(){return l.state.user.name},set(e){l.commit("setName",e)}}),m=p({get(){return l.state.user.age},set(e){l.commit("setAge",e)}}),n=p({get(){return l.state.userChildren},set(e){console.log(e)}}),y=p(()=>{const e=n.value.every(s=>!!s.name.length&&!!s.age.length);return console.log((!m.value.length||!d.value.length)&&e),!m.value.length||!d.value.length||!e}),x=()=>{l.commit("setChildren",{id:Date.now(),name:"",age:""})},V=e=>{l.commit("removeChildren",e)},_=()=>{u.push({name:"preview"}),B.setStorage(l.state)};return(e,s)=>(h(),v("div",q,[L,t("form",j,[f(g,{modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=a=>d.value=a),modelValueModifiers:{trim:!0},placeholder:"Имя",type:"text","for-name":"name"},null,8,["modelValue"]),f(g,{modelValue:m.value,"onUpdate:modelValue":s[1]||(s[1]=a=>m.value=a),modelValueModifiers:{trim:!0},placeholder:"Возраст",type:"number","for-name":"age"},null,8,["modelValue"])]),t("div",null,[t("div",z,[E,t("button",{onClick:x,class:b(["px-3 py-2 border-2 border-blue-400 rounded-full text-blue-400 md:text-base text-sm flex items-center gap-1 outline-none",[{"opacity-40 pointer-events-none ":r.value}]])},[I,U(" Добавить ребенка ")],2)]),(h(!0),v($,null,D(n.value,(a,i)=>(h(),v("div",{class:"flex gap-2 py-2 md:flex-nowrap flex-wrap",key:a.id},[f(g,{modelValue:n.value[i].name,"onUpdate:modelValue":c=>n.value[i].name=c,modelValueModifiers:{trim:!0},placeholder:"Имя",type:"text","for-name":"clildName"+a.id},null,8,["modelValue","onUpdate:modelValue","for-name"]),f(g,{modelValue:n.value[i].age,"onUpdate:modelValue":c=>n.value[i].age=c,modelValueModifiers:{trim:!0},placeholder:"Возраст",type:"number","for-name":"childAge"+a.id},null,8,["modelValue","onUpdate:modelValue","for-name"]),t("button",{onClick:c=>V(a.id),class:"text-blue-400"}," Удалить ",8,P)]))),128))]),t("div",R,[t("button",{onClick:_,class:b(["px-5 py-3 bg-blue-500 text-white rounded-full",[{"opacity-40 pointer-events-none":y.value}]])}," Сохранить ",2)])]))}};export{G as default};
